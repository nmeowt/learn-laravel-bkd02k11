{% extends "cart/base.html" %}
{% load static %}

{% block detail %}
<div class="row">
    <div class="col-md-8">
        <div class="table-responsive">
            <table class="table table-shopping">
                <thead>
                    <tr>
                        <th></th>
                        <th class="text-right">Giá</th>
                        <th class="text-right">Số lượng</th>
                        <th class="text-right">Tổng</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% csrf_token %}
                    {% for item in cart %}
                    {% with product=item.product %}
                    <tr class="item" data-id="{{ product.id }}">
                        <td class="td-product">
                            <div class="img-container">
                                <img src="{{ product.image.url }}" alt="Agenda">
                            </div>
                            <strong>{{ product.name }}</strong>
                        </td>

                        <td class="td-price">
                            {{ product.price_display }}
                        </td>
                        <td class="td-number td-quantity">
                            <span class="quantity">{{item.quantity}}</span>

                            <div class="btn-group">
                                <button class="btn btn-sm decrease"> - </button>
                                <button class="btn btn-sm increase"> + </button>
                            </div>
                        </td>
                        <td class="td-number total-price">
                            {{item.total_price}}
                        </td>
                        <td class="td-number">
                            <!-- <a href="{% url 'cart:cart-remove' product.id %}" class="btn btn-danger">Xóa</a> -->
                            <button class="btn btn-danger delete">Xóa</button>
                        </td>
                    </tr>
                    {% endwith %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="col-md-4">
        <div class="row price-row">
            <div class="col-md-6">
                <h6>Khách cần trả: </h6>
            </div>
            <div class="col-md-6 text-right">
                <div class="input-group border-input">
                    <input type="text" value="{{ cart.get_total_price }}" id="paid" readonly
                        class="form-control money border-input">
                    <span class="input-group-addon">₫</span>
                </div>
            </div>
        </div>
        <div class="row price-row">
            <div class="col-md-6">
                <h6>Khách thanh toán <span class="icon-danger">*</span></h6>
            </div>
            <div class="col-md-6 text-right">
                <div class="input-group border-input">
                    <input type="text" min="1" max="9999999" value="{{ cart.get_total_price }}" id="received"
                        placeholder="Tiền" class="form-control money border-input">
                    <span class="input-group-addon">₫</span>
                </div>
            </div>
        </div>
        <div class="row price-row">
            <div class="col-md-6">
                <h6>Tiền thừa trả khách: </h6>
            </div>
            <div class="col-md-6 text-right">
                <div class="input-group border-input">
                    <input type="text" value="0" readonly id="returns" class="form-control money border-input">
                    <span class="input-group-addon">₫</span>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="text-right">
    <button class="btn btn-danger btn-fill btn-lg" id="payment">
        Thanh toán
        <i class="fa fa-chevron-right"></i>
    </button>
</div>
{% endblock detail %}